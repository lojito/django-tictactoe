!function(e){var r={};function t(o){if(r[o])return r[o].exports;var a=r[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var a in e)t.d(o,a,function(r){return e[r]}.bind(null,a));return o},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=0)}([function(e,r){function t(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var a=function(){function e(r,t,o){var a=r.userImagePath,n=r.computerImagePath,i=r.gameFinishUrl,s=r.gamePlayUrl;!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e);var u=this;this.over=!1,this.board=Array(e.SQUARES_NUMBER).fill(e.UNKNOW_PLAYER),this.userImagePath=a,this.computerImagePath=n,this.gameFinishUrl=i,this.gamePlayUrl=s,this.squares=t,this.result=o,this.squares.each(function(r){var t=this.style.backgroundImage;-1!==t.indexOf("default")?u.board[r]=e.UNKNOW_PLAYER:-1!==t.indexOf("user")?u.board[r]=e.USER:u.board[r]=e.COMPUTER,$(this).click(function(r){u.processPlay(e.USER,this.id),u.over||$.ajax({url:u.gamePlayUrl,data:{board:u.board.join("")},dataType:"json",success:function(r){u.checkForErrors(r)||u.processPlay(e.COMPUTER,r.square)},error:function(e,r){console.debug(e),console.debug(r)}})})})}return function(e,r,o){r&&t(e.prototype,r),o&&t(e,o)}(e,[{key:"checkForErrors",value:function(e){return""!=e.error&&(this.result.text("The server responded with an error. You may not be able to continue playing at this time. Check the console log."),this.squares.prop("disabled",!0),console.log(e.error),!0)}},{key:"hasWon",value:function(e){var r=this.board;return r[0]==e&&r[1]==e&&r[2]==e&&r[3]==e||r[4]==e&&r[5]==e&&r[6]==e&&r[7]==e||r[8]==e&&r[9]==e&&r[10]==e&&r[11]==e||r[12]==e&&r[13]==e&&r[14]==e&&r[15]==e||r[0]==e&&r[4]==e&&r[8]==e&&r[12]==e||r[1]==e&&r[5]==e&&r[9]==e&&r[13]==e||r[2]==e&&r[6]==e&&r[10]==e&&r[14]==e||r[3]==e&&r[7]==e&&r[11]==e&&r[15]==e||r[0]==e&&r[5]==e&&r[10]==e&&r[15]==e||r[3]==e&&r[6]==e&&r[9]==e&&r[12]==e}},{key:"isBoardFull",value:function(){return!this.board.includes(e.UNKNOW_PLAYER)}},{key:"updateBoard",value:function(r,t){this.board[t]=r,$(this.squares[t]).prop("disabled",!0);var o=r==e.USER?this.userImagePath:this.computerImagePath;$(this.squares[t]).css("backgroundImage","url("+o+")")}},{key:"processPlay",value:function(r,t){this.updateBoard(r,t),this.hasWon(r)?(this.squares.prop("disabled",!0),this.result.text(r==e.USER?e.WON:e.LOST),this.over=!0):this.isBoardFull()&&(this.result.text(e.TIE),this.over=!0);var o=this;this.over&&$.ajax({url:this.gameFinishUrl,data:{board:this.board.join("")},dataType:"json",success:function(e){o.checkForErrors(e)}})}}]),e}();o(a,"UNKNOW_PLAYER",0),o(a,"USER",1),o(a,"COMPUTER",2),o(a,"SQUARES_NUMBER",16),o(a,"LOST","You lost the game!"),o(a,"WON","You won the game!"),o(a,"TIE","Game is a tie!"),new a(config,$(".square"),$("#result"))}]);